services:
  # zookeeper:
  #   build:
  #     context: ./
  #     dockerfile: zookeeper.dockerfile
  #   hostname: zookeeper
  #   networks:
  #     - reddit_network
  #   volumes:
  #     - ../config/zookeeper:/home/zookeeper-u/zookeeper
  #   ports:
  #     - 2181:2181
  #   command: tail -F anything
    

  kafka1:
    build:
      context: ./
      dockerfile: kafka.dockerfile
    hostname: kafka1
    networks:
      - reddit_network
    volumes:
      - ../config/kafka1:/home/kafka-u/kafka
    ports:
      - 19092:9092
    command: tail -F anything


  kafka2:
    build:
      context: ./
      dockerfile: kafka.dockerfile
    hostname: kafka2
    networks:
      - reddit_network
    volumes:
      - ../config/kafka2:/home/kafka-u/kafka
    ports:
      - 29092:9092
    command: tail -F anything



  kafka3:
    build:
      context: ./
      dockerfile: kafka.dockerfile
    hostname: kafka3
    networks:
      - reddit_network
    ports:
      - 39092:9092
    volumes:
      - ../config/kafka3:/home/kafka-u/kafka
    command: tail -F anything

    
networks:
  reddit_network:
    driver: bridge
    name: reddit_network
    external: true 
